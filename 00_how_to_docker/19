# 19. Запустите имя контейнера Abathur. Это будет Python контейнерная, 2-тонкая версия, ее корневая папка
# /root будет привязана к ДОМАШНЕЙ папке на вашем хосте, а ее порт 3000 будет привязан к порту 3000 вашей
#  виртуальной машины. Вы персонализируете этот контейнер так, чтобы иметь возможность использовать Flask
#  микро-фреймворк в его последней версии. Вы убедитесь, что html-страница, отображающая "Hello World" с 
#  <h1>тегами, может быть обслужена Flask Вы проверите правильность настройки вашего контейнера, получив 
#  доступ через curl или веб-браузер к IP-адресу вашей виртуальной машины на порту 3000. Вы также 
#  перечислите все необходимые команды в вашем репозитории.

docker run --name Abathur -v ~/:/root -p 3000:3000 -dit python:2-slim
docker exec Abathur pip install Flask
echo 'from flask import Flask\napp = Flask(__name__)\n@app.route("/")\ndef hello_world():\n\treturn "<h1>Hello, World!</h1>"' > ~/app.py
docker exec -e FLASK_APP=/root/app.py Abathur flask run --host=0.0.0.0 --port 3000

# How to check
# curl $(docker-machine ip Char):3000

# Additionally
# -v - привязка монтирования тома
# -p - опубликовать порт контейнера на хосте
# docker exec - запуск команды в запущенном контейнере
# -e — yстановить переменные окружения
# curl - это инструмент для передачи данных с сервера или на сервер, используя один из поддерживаемых протоколов
